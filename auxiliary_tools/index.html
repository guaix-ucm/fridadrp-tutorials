

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Auxiliary tools &mdash; fridadrp-tutorials 0.1 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
      <link rel="stylesheet" type="text/css" href="../_static/custom.css?v=ac5f0f31" />

  
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=2709fde1"></script>
      <script src="../_static/doctools.js?v=9bcbadda"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
      <script src="../_static/copybutton.js?v=d2c30f9d"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Generation of data cube mosaics" href="data_cube_mosaics.html" />
    <link rel="prev" title="Running a simple test recipe" href="../example_recipes/test1.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            fridadrp-tutorials
              <img src="../_static/logo_FRIDA.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../installation/installation.html">Installing the development version</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ifu_simulator/index.html">Running the IFU simulator</a></li>
<li class="toctree-l1"><a class="reference internal" href="../example_recipes/test1.html">Running a simple test recipe</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Auxiliary tools</a><ul>
<li class="toctree-l2"><a class="reference internal" href="data_cube_mosaics.html">Generation of data cube mosaics</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">fridadrp-tutorials</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Auxiliary tools</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/auxiliary_tools/index.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="auxiliary-tools">
<h1>Auxiliary tools<a class="headerlink" href="#auxiliary-tools" title="Link to this heading">ÔÉÅ</a></h1>
<p>This section describes various procedures that make use of auxiliary <strong>numina</strong>
scripts that support the scientific analysis of images obtained with FRIDA.</p>
<p>Among these tools we can highlight the following:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">numina-compare_adr_extensions_in_3d_cube</span></code>: this script computes the
correction for differential atmospheric refraction present in a 3D data cube,
by reading the information from two specific extensions (e.g., <code class="docutils literal notranslate"><span class="pre">ADRCROSS</span></code>,
<code class="docutils literal notranslate"><span class="pre">ADRTHEOR</span></code>).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">numina-compute_adr_wavelength</span></code>: this script calculates the effect of
atmospheric refraction, using a predefined wavelength as reference.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">numina-extract_2d_slice_from_3d_cube</span></code>: extracts a 2D section from a 3D
FITS image. It allows specifying the axis to collapse and the interval (pixel
range) along that axis.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">numina-generate_mosaic_of_2d_images</span></code>: this script generates a mosaic of 2D
images from a list of 2D FITS files.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">numina-generate_mosaic_of_3d_images</span></code>: this script generates a mosaic of 3D
data cubes from a list of 3D FITS files.</p>
<ul>
<li><p>It is possible to use arguments to fix the desired outupt celestial 2D WCS,
as well as the output CRVAL3 and CDELT3 parameters that define the output
linear wavelength sampling.</p></li>
<li><p>If the input is a single 3D FITS cube, the code can be used to resample the
initial cube with different values of CRVAL3 and CDELT3. In that case, it
is recommended to use <code class="docutils literal notranslate"><span class="pre">interp</span></code> as the reprojection method to avoid the
default Gaussian kernel used when the reprojection method is <code class="docutils literal notranslate"><span class="pre">adaptive</span></code>).</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">numina-imath3d</span></code>: performs basic arithmetic operations with FITS images
(addition, subtraction, multiplication, division) from the terminal command
line.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">numina-measure_slice_xy_offsets_in_3d_cube</span></code>:  this script calculates the
spatial offset in the sky plane between a particular spatial slice and all
the spatial slices of a given 3D cube. It does so using a cross-correlation
method.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">numina-pixel_solid_angle_arcsec2</span></code>: this script calculates the solid angle
subtended by a pixel in a 2D FITS image (in arcsec^2).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">numina-pixel_to_world</span></code>: auxiliary script to convert from pixel coordinates
to celestial coordinates and wavelength.  There is also the script
<code class="docutils literal notranslate"><span class="pre">numina-world_to_pixel</span></code>, which performs the inverse transformation.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">numina-resample_wave_3d_cube</span></code>: this script resamples a 3D data cube by
specifying the output values for CRVAL3, CDELT3 and NAXIS3. The celestial WCS
is preserved, and the spectral WCS is modified in order to make use of the
new wavelength sampling. This code does not use the functionality of the
<strong>reproject</strong> package and instead performs a simple linear redistribution of
the signal in the newly sampled wavelength grid. In this sense, it produces
the same result as the <code class="docutils literal notranslate"><span class="pre">numina-generate_mosaic_of_3d_images</span></code> script when
employed with a single input 3D FITS file and the reprojection method is
<code class="docutils literal notranslate"><span class="pre">interp</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">numina-sp3d_with_ds9</span></code>: this script opens a 3D FITS image in the <code class="docutils literal notranslate"><span class="pre">ds9</span></code>
image browser and allows interactive selection of object and sky spaxels.
Simultaneously, the corresponding spectra and their subtraction are
displayed.  This interaction is similar to what is done with the program
<code class="docutils literal notranslate"><span class="pre">qfitsview</span></code>. The reason for developing this code has been the more
comfortable interaction with the Matplotlib window displaying the spectra,
along with the ability to leverage the full functionality of the <code class="docutils literal notranslate"><span class="pre">ds9</span></code>
program. The <code class="docutils literal notranslate"><span class="pre">ds9</span></code> session is launched automatically when running this
script and must be closed manually upon completion.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">numina-ximshow</span></code>: this is a tool for visualizing 2D FITS images using
Matplotlib, which can be convenient when displaying multiple images
consecutively and quickly saving the result to a PNG or PDF file.</p></li>
</ul>
<p>Some of these tools are employed in the examples described in following
procedures:</p>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="data_cube_mosaics.html">Generation of data cube mosaics</a><ul>
<li class="toctree-l2"><a class="reference internal" href="data_cube_mosaics.html#combination-of-2d-images">Combination of 2D images</a></li>
<li class="toctree-l2"><a class="reference internal" href="data_cube_mosaics.html#combination-of-3d-data-cubes-example-1">Combination of 3D data cubes: example 1</a></li>
<li class="toctree-l2"><a class="reference internal" href="data_cube_mosaics.html#combination-of-3d-data-cubes-example-2">Combination of 3D data cubes: example 2</a></li>
</ul>
</li>
</ul>
</div>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../example_recipes/test1.html" class="btn btn-neutral float-left" title="Running a simple test recipe" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="data_cube_mosaics.html" class="btn btn-neutral float-right" title="Generation of data cube mosaics" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, Nicol√°s Cardiel, Sergio Pascual.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>